{% extends 'base.html' %}

{% block content %}

<!-- FontAwesome (icons) -->
<!-- <link rel="stylesheet" 
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      integrity="sha512-oq0bYEiWfG9fFZpigiqxjA6yrf8fN6kBbXZmO+JXTBKxPIJeFt4C0F4ObeOtkkcDI9EkRPw5zqD+iWy12I2R1w==" 
      crossorigin="anonymous" referrerpolicy="no-referrer" /> -->

<div style="
    height:100vh; 
    display:flex; 
    justify-content:center; 
    align-items:center; 
    background: radial-gradient(circle at top left, #8000ff 0%, #000 60%);
">
    <div style="
        width:420px;
        padding:40px 35px;
        border-radius:25px;
        background:rgba(255,255,255,0.05);
        backdrop-filter:blur(12px);
        border:1px solid rgba(255,255,255,0.1);
        box-shadow:0 0 30px rgba(179,0,255,0.45);
        animation:fadeIn .8s ease;
    ">

        <h2 style="
            color:#e6b3ff;
            font-weight:800;
            text-align:center;
            font-size:2rem;
            text-shadow:0 0 12px rgba(255,0,255,0.6);
        ">
            Sign In
        </h2>

        <p style="color:#d9ccec; text-align:center; font-size:.9rem; margin-bottom:25px;">
            Enter your credentials to continue
        </p>

        <form action="{{ url_for('login') }}" method="post">

            <!-- Username -->
            <div style="margin-bottom:18px;">
                <label style="color:#f2dfff; margin-bottom:6px; display:block;">Email or Username</label>
                <input type="text" 
                       name="username" 
                       required
                       placeholder="you@example.com"
                       class="form-control"
                       style="
                           width:100%;
                           padding:12px 18px;
                           border-radius:40px;
                           background:rgba(255,255,255,0.1);
                           border:none;
                           color:white;
                           backdrop-filter:blur(6px);
                           box-shadow:0 0 10px rgba(179,0,255,0.3) inset;
                       ">
            </div>

            <!-- Password -->
            <div style="margin-bottom:18px;">
                <label style="color:#f2dfff; margin-bottom:6px; display:block;">Password</label>

                <div style="
                    display:flex; 
                    align-items:center; 
                    background:rgba(255,255,255,0.1);
                    border-radius:40px;
                    padding-right:10px;
                    box-shadow:0 0 10px rgba(179,0,255,0.3) inset;
                ">
                    <input type="password"
                           name="password"
                           id="password"
                           required
                           class="form-control"
                           style="
                               flex:1;
                               padding:12px 18px;
                               background:transparent;
                               border:none;
                               color:white;
                               outline:none;
                               border-radius:40px;
                           ">

                    <button id="togglePassword"
                            type="button"
                            style="
                                background:none;
                                border:none;
                                color:#eac8ff;
                                cursor:pointer;
                                font-size:1.2rem;
                            ">
                        <i class="fa-solid fa-eye"></i>
                    </button>
                </div>
            </div>

            <!-- Sign In Button -->
            <button type="submit"
                style="
                    width:100%;
                    padding:14px;
                    border:none;
                    border-radius:40px;
                    font-size:1rem;
                    font-weight:600;
                    background:linear-gradient(90deg,#b300ff,#6a00ff);
                    color:white;
                    cursor:pointer;
                    margin-top:10px;
                    box-shadow:0 0 15px rgba(179,0,255,0.6);
                    transition:0.3s;
                "
                onmouseover="this.style.boxShadow='0 0 30px rgba(179,0,255,0.9)'"
                onmouseout="this.style.boxShadow='0 0 15px rgba(179,0,255,0.6)'"
            >
                Sign In
            </button>

        </form>

        <div style="text-align:center; margin-top:20px;">
            <a href="{{ url_for('register') }}" 
               style="color:#ff57ff; text-decoration:none; font-weight:600;">
               Don't have an account? Register
            </a>
        </div>

    </div>
</div>

{% if error %}
<script>alert("{{ error|safe }}");</script>
{% endif %}

<!-- Password Toggle Script -->
<script>
(function () {
    const pwd = document.getElementById('password');
    const btn = document.getElementById('togglePassword');
    const icon = btn.querySelector('i');

    btn.addEventListener('click', function () {
        const isPassword = pwd.type === 'password';
        pwd.type = isPassword ? 'text' : 'password';

        // Toggle FontAwesome Icons
        icon.classList.toggle('fa-eye');
        icon.classList.toggle('fa-eye-slash');
    });
})();
</script>

{% endblock %}
